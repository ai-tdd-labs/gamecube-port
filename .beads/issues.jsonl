{"id":"gamecube-173","title":"MP4 workload: HuPerfInit reachability","description":"Replace HuPerfInit/HuPerfCreate stubs with a minimal decomp slice and extend host workload chain to call HuPerfInit + MP4's USR0/USR1 HuPerfCreate.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:01:28.414712+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:04:06.946233+01:00","closed_at":"2026-02-08T19:04:06.946233+01:00","close_reason":"Tested: host workload marker MP48+DEADBEEF written to tests/actual/workload/mp4_huperfinit_001.bin"}
{"id":"gamecube-2ce","title":"MP4 GX: GXCopyTex callsite test","description":"From decomp_mario_party_4/src/game/hsfman.c (Hu3DShadowExec) collect call args for GXCopyTex, build DOL expected, host actual, diff, notes, update MP4_chain_all.csv.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:06:29.565139+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T13:24:48.478548+01:00","closed_at":"2026-02-08T13:24:48.478548+01:00","close_reason":"Tested: gx_copy_tex_mp4_shadow_small_001 expected.bin matches actual.bin","dependencies":[{"issue_id":"gamecube-2ce","depends_on_id":"gamecube-351","type":"blocks","created_at":"2026-02-08T13:06:36.942845+01:00","created_by":"ai-tdd-labs"}]}
{"id":"gamecube-2pi","title":"mp4 mainloop: try real HuPrcCall (remove stub)","description":"Goal: further boot the host workload by calling the real HuPrcCall from vendor process.c (instead of the scenario stub) while keeping other heavy game modules stubbed.\\n\\nSteps:\\n1) Remove static HuPrcCall stub in mp4_mainloop_one_iter_001_scenario.c (and/or add a new scenario variant) so linker uses vendor implementation.\\n2) Run: tools/run_host_scenario.sh tests/workload/mp4/\u003cscenario\u003e.c\\n3) If it crashes/hangs, capture evidence (stderr, where it stops) and add a fact note to docs/codex/NOTES.md.\\n4) If it runs, keep it and consider enabling the same in two-iter scenario.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T21:00:24.232296+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T21:02:12.117416+01:00","closed_at":"2026-02-08T21:02:12.117416+01:00","close_reason":"Tried to link real HuPrcCall from vendor process.c; host link fails because gcsetjmp/gclongjmp (PPC register jmp_buf) and HuMemDirectFree are not implemented in host workload. Keeping HuPrcCall stub for now; recorded blocker in docs/codex/NOTES.md."}
{"id":"gamecube-2vt","title":"MP4 gap: OSStopwatch Start/Stop/Check (HuPerf*)","description":"Implement OSStartStopwatch/OSStopStopwatch/OSCheckStopwatch (+ deterministic OSGetTime) in src/sdk_port/os. Add MP4-realistic deterministic tests (DOL expected vs host actual) based on decomp perf.c callsites (HuPerfZero/HuPerfBegin/HuPerfEnd). Update MP4_chain_all.csv and docs/codex/NOTES.md.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-09T11:26:02.419376+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-09T11:28:24.941733+01:00","closed_at":"2026-02-09T11:28:24.941733+01:00","close_reason":"Tested: Dolphin expected vs host actual PASS (OSStopwatch Start/Stop/Check mp4_huperf_001)"}
{"id":"gamecube-351","title":"MP4 GX: GXSetTexCopyDst callsite test","description":"From decomp_mario_party_4/src/game/hsfman.c (Hu3DShadowExec) collect call args for GXSetTexCopyDst, build DOL expected, host actual, diff, notes, update MP4_chain_all.csv.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:06:23.687847+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T13:12:53.817328+01:00","closed_at":"2026-02-08T13:12:53.817328+01:00","close_reason":"Tested: DOL expected + host actual bit-exact (GXSetTexCopyDst MP4 Hu3DShadowExec small branch). Evidence in tests/sdk/gx/gx_set_tex_copy_dst and docs updates.","dependencies":[{"issue_id":"gamecube-351","depends_on_id":"gamecube-g9g","type":"blocks","created_at":"2026-02-08T13:06:36.749368+01:00","created_by":"ai-tdd-labs"}]}
{"id":"gamecube-3e6","title":"Boot: use decomp HuDvdErrorWatch in MP4 mainloop workload","description":"Replace stub HuDvdErrorWatch() in tests/workload/mp4/mp4_mainloop_one_iter_001_scenario.c with a decomp-based slice (dvd.c -\u003e HuDvdErrorWatch only). Keep it game-specific (not SDK). Verify host scenario still runs and marker remains MP47 DEADBEEF.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:50:46.641747+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:52:49.287751+01:00","closed_at":"2026-02-08T19:52:49.287751+01:00","close_reason":"Replaced stub with decomp slice; host workload still runs (MP47 marker). Committed."}
{"id":"gamecube-3eq","title":"Oracle: RVZ MEM1 dump at HuSysBeforeRender","description":"Use tools/dump_expected_rvz_mem1_at_pc.sh with MP4 RVZ to dump MEM1 at PC=0x80009FF8 (HuSysBeforeRender). Record sha256 + path in docs/codex/NOTES.md.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:45:51.746674+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:48:35.420137+01:00","closed_at":"2026-02-08T19:48:35.420137+01:00","close_reason":"Recorded sha256+path in docs/codex/NOTES.md and committed (b3bde10).","comments":[{"id":1,"issue_id":"gamecube-3eq","author":"ai-tdd-labs","text":"Added sha256 + path to docs/codex/NOTES.md for mem1_at_pc_80009FF8_husysbeforerender oracle.","created_at":"2026-02-08T18:48:16Z"}]}
{"id":"gamecube-3mq","title":"MP4: use decomp HuSoftResetButtonCheck slice","description":"Replace the host-only stub HuSoftResetButtonCheck() in tests/workload/mp4/mp4_mainloop_one_iter_001_scenario.c with a minimal decomp slice from decomp_mario_party_4/src/game/sreset.c. Keep dependencies stubbed (HuRestartSystem). Verify host workload still runs and marker bin is produced. Record in docs/codex/NOTES.md.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:00:42.379838+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:02:30.314003+01:00","closed_at":"2026-02-08T20:02:30.314003+01:00","close_reason":"Tested: host workload mp4_mainloop_one_iter_001 runs with HuSoftResetButtonCheck slice"}
{"id":"gamecube-41t","title":"MP4 GX: GXSetTexCoordGen callsite test (wipe)","description":"From decomp_mario_party_4/src/game/wipe.c WipeFrameStill: GXSetTexCoordGen(GX_TEXCOORD0, GX_TG_MTX2x4, GX_TG_TEX0, GX_IDENTITY). Add tests/sdk/gx/gx_set_tex_coord_gen MP4 case with DOL expected + host actual; implement GXSetTexCoordGen2/Gen in src/sdk_port/gx/GX.c (XF regs 0x40/0x50 + matIdxA update) evidence-driven.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T14:02:41.961248+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T14:08:39.442531+01:00","closed_at":"2026-02-08T14:08:39.442531+01:00","close_reason":"Tested: gx_set_tex_coord_gen_mp4_wipe_frame_still_001 expected.bin matches actual.bin"}
{"id":"gamecube-437","title":"MP4 GX: GXInitTexObj callsite test (wipe)","description":"From wipe.c WipeFrameStill: GXInitTexObj(\u0026tex, wipe-\u003ecopy_data, wipe-\u003ew, wipe-\u003eh, GX_TF_RGB565, GX_CLAMP, GX_CLAMP, GX_FALSE). Add tests/sdk/gx/gx_init_tex_obj MP4 case with DOL expected + host actual; implement minimal __GXTexObjInt packing in src/sdk_port/gx/GX.c so observable object words match.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T14:02:41.959609+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T14:18:57.879035+01:00","closed_at":"2026-02-08T14:18:57.879035+01:00","close_reason":"Tested: gx_init_tex_obj_mp4_wipe_rgb565_001 expected.bin matches actual.bin"}
{"id":"gamecube-45v","title":"Oracle: RVZ MEM1 dump at HuSysDoneRender","description":"Use tools/dump_expected_rvz_mem1_at_pc.sh on MP4 RVZ to dump MEM1 at HuSysDoneRender PC=0x8000A0DC. Record sha256+path in docs/codex/NOTES.md. Secondary oracle only.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:50:46.668031+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:56:26.661184+01:00","closed_at":"2026-02-08T19:56:26.661184+01:00","close_reason":"Tested: RVZ MEM1 dump captured; SHA256 recorded in docs/codex/NOTES.md","comments":[{"id":3,"issue_id":"gamecube-45v","author":"ai-tdd-labs","text":"Dumped MEM1 oracle file tests/oracles/mp4_rvz/mem1_at_pc_8000A0DC_husysdonerender.bin successfully.","created_at":"2026-02-08T18:54:39Z"}]}
{"id":"gamecube-4ng","title":"Oracle: MP4 RVZ MEM1 dump at pfInit","description":"Retail MP4 RVZ breakpoint at pfInit PC 0x8000AEF0; dump MEM1 to tests/oracles/mp4_rvz/mem1_at_pc_8000AEF0_pfinit.bin; record sha256 in docs/codex/NOTES.md","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:48:19.536836+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:50:45.908498+01:00","closed_at":"2026-02-08T18:50:45.908498+01:00","close_reason":"Verified: tests/oracles/mp4_rvz/mem1_at_pc_8000AEF0_pfinit.bin sha256=13f41479161d3d1e1036d722dd0ac9d24655cc3ef9f6b2568140a931c3e0f73f"}
{"id":"gamecube-5ha","title":"host harness: optional big RAM dump","description":"Extend tests/harness/gc_host_runner.c to optionally dump an extra region (e.g. MEM1 0x80000000 size 0x01800000) when env vars are set. Update tools/dump_actual_mem1.sh to use it. Add docs/codex/WORKFLOW.md note. Test by dumping mem1 for a workload scenario.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T21:31:05.9823+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T21:34:07.600066+01:00","closed_at":"2026-02-08T21:34:07.600066+01:00","close_reason":"Implemented GC_HOST_DUMP_* extra dump in gc_host_runner; tools/dump_actual_mem1.sh updated; verified creates 24MiB file for mp4_gwinit_001_scenario"}
{"id":"gamecube-619","title":"Workload: MP4 mainloop uses real Hu3DPreProc (minimal slice)","description":"Add a minimal host-buildable Hu3DPreProc slice that calls GXSetCopyClear(BGColor,0xFFFFFF) and clears HU3D_ATTR_MOT_EXEC for models with non-null hsfData. Wire it into mp4_mainloop_one_iter_001_scenario (remove local stub) and run host scenario to verify marker.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:39:14.649598+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:40:38.417042+01:00","closed_at":"2026-02-08T19:40:38.417042+01:00","close_reason":"Tested: mp4_mainloop_one_iter_001_scenario uses Hu3DPreProc minimal slice and still reaches marker; Hu3DPreProc slice wired into workload build."}
{"id":"gamecube-68o","title":"MP4 pfDrawFonts immediate-mode chain smoke","description":"After implementing deterministic GX immediate-mode helper mirrors, add a small chain smoke test that calls GXPosition3s16/GXColor1x8/GXTexCoord2f32/GXPosition2f32/GXColor3u8 in pfDrawFonts-like order, then dumps 0x80300000 and asserts expected==actual.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-09T12:38:27.026916+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-09T13:01:22.105243+01:00","closed_at":"2026-02-09T13:01:22.105243+01:00","close_reason":"Tested: mp4_pfdrawfonts_chain_001 smoke suite PASS (PPC vs host MEM1 bit-exact), committed ad102cd"}
{"id":"gamecube-6gr","title":"Oracle: RVZ MEM1 dump at HuPadInit","description":"MP4 USA RVZ: breakpoint at HuPadInit (0x80005A5C), dump MEM1 0x80000000 size 0x01800000. Record SHA256 in docs/codex/NOTES.md. Dump stays gitignored under tests/oracles.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T15:35:07.997005+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T15:35:39.28155+01:00","closed_at":"2026-02-08T15:35:39.28155+01:00","close_reason":"Tested: RVZ breakpoint @0x80005A5C hit; MEM1 dumped; SHA256 recorded in docs/codex/NOTES.md"}
{"id":"gamecube-6r4","title":"MP4 workload: run pfInit (decomp slice)","description":"Next MP4 main() init step after GWInit. Add host workload scenario mp4_pfinit_001 that runs HuSysInit-\u003eHuPrcInit-\u003eHuPadInit-\u003eGWInit-\u003epfInit; keep it reachability-only; add RVZ MEM1 oracle at pfInit PC from symbols.txt.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:47:07.870304+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:48:19.708792+01:00","closed_at":"2026-02-08T18:48:19.708792+01:00","close_reason":"Tested: host workload mp4_pfinit_001 produces marker MP44 DEADBEEF"}
{"id":"gamecube-70b","title":"MP4 gap: GX immediate-mode helpers (pfDrawFonts)","description":"Implement GXPosition3s16, GXColor1x8, GXTexCoord2f32, GXColor3u8, GXPosition2f32 in src/sdk_port/gx/GX.c. Add MP4-realistic deterministic tests (DOL expected vs host actual) for each based on pfDrawFonts callsite. Then enable a small pfDrawFonts chain smoke test once all are PASS.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-09T12:22:33.627892+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-09T12:38:38.034646+01:00","closed_at":"2026-02-09T12:38:38.034646+01:00","close_reason":"Tested: added GXPosition3s16/GXColor1x8/GXTexCoord2f32/GXPosition2f32/GXColor3u8 to sdk_port and MP4 pfDrawFonts suites; expected.bin == actual.bin for each."}
{"id":"gamecube-774","title":"Oracle: RVZ breakpoint MEM1 dump at GXInit","description":"Use MP4 USA RVZ, break at GXInit entry (0x800C7E7C) and dump MEM1 (0x80000000 size 0x01800000). Record SHA256 in docs/codex/NOTES.md. Secondary oracle only.","notes":"GXCopyTex entry (0x800CBA0C) was not hit within 120s without input; track as separate follow-up oracle.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:26:53.910731+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T14:41:35.230898+01:00","closed_at":"2026-02-08T14:41:35.230898+01:00","close_reason":"Captured MP4 USA RVZ MEM1 dump at GXInit PC=0x800C7E7C; SHA256 recorded in docs/codex/NOTES.md"}
{"id":"gamecube-7ld","title":"VIWaitForRetrace: call post-retrace callback","description":"Determine empirically (Dolphin oracle) whether a callback set via VISetPostRetraceCallback is invoked as part of VIWaitForRetrace. Add deterministic DOL+host test. If invoked, update sdk_port/vi/VI.c accordingly and update docs/codex/NOTES.md + any misleading README.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T21:03:15.281874+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T21:10:04.24591+01:00","closed_at":"2026-02-08T21:10:04.24591+01:00","close_reason":"Added VIWaitForRetrace post-retrace callback modeling (host-safe function pointer + RAM token). New DOL+host test vi_wait_for_retrace_calls_post_cb_hupadinit_001 expected==actual PASS. Recorded evidence in docs/codex/NOTES.md."}
{"id":"gamecube-889","title":"MP4 workload: HuSprInit reachability","description":"Extend MP4 host workload chain to include HuSprInit (after pfInit). Add minimal decomp slice + scenario, run tools/run_host_scenario.sh, verify marker.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:52:42.736466+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:53:58.48807+01:00","closed_at":"2026-02-08T18:53:58.48807+01:00","close_reason":"Tested: host workload marker MP45+DEADBEEF written to tests/actual/workload/mp4_husprinit_001.bin"}
{"id":"gamecube-8cm","title":"Workload: replace Hu3DInit stub with minimal Hu3DInit slice","description":"Expose minimal Hu3D state shared with Hu3DPreProc slice, add Hu3DInit slice (clear Hu3DData.hsfData + set BGColor), remove Hu3DInit from post_sprinit_stubs.c, and verify mp4_init_to_viwait_001 + mp4_mainloop_one_iter_001 still reach markers.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:41:01.323281+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:42:40.384638+01:00","closed_at":"2026-02-08T19:42:40.384638+01:00","close_reason":"Tested: mp4_init_to_viwait_001 + mp4_mainloop_one_iter_001 still reach markers with Hu3DInit provided by minimal slice; Hu3DInit stub removed from post_sprinit_stubs.c; docs updated."}
{"id":"gamecube-95p","title":"Verify HuPadInit SDK callsite tests","description":"Run + verify existing deterministic SDK tests used by MP4 HuPadInit: SISetSamplingRate(0), VISetPostRetraceCallback(cb), PADControlMotor(chan, STOP_HARD). Build DOL, dump expected via Dolphin, run host scenarios, diff expected vs actual. Record PASS/FAIL in docs/codex/NOTES.md if any changes needed.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:09:21.483302+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:15:16.754557+01:00","closed_at":"2026-02-08T19:15:16.754557+01:00","close_reason":"Tested: SISetSamplingRate, VISetPostRetraceCallback, PADControlMotor mp4 realistic suites PASS (expected==actual). Note: Dolphin expected dumps must not run in parallel due to shared GDB stub port."}
{"id":"gamecube-9lo","title":"Oracle: RVZ MEM1 dump at GXCopyTex","description":"Tried RVZ breakpoint at GXCopyTex (0x800CBA0C) with timeout 300s: not hit. Earlier boot checkpoint HuPadInit (0x80005A5C) works and has oracle dump + SHA256 in docs/codex/NOTES.md. Conclusion: GXCopyTex likely later than boot/menu or requires deterministic input; revisit after input automation / longer-run strategy.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T14:41:27.806552+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:07:25.73534+01:00","closed_at":"2026-02-08T20:07:25.73534+01:00","close_reason":"Not reached: RVZ breakpoint at GXCopyTex (0x800CBA0C) not hit within 300s; documented in docs/codex/NOTES.md"}
{"id":"gamecube-a3v","title":"MP4 GX: GXLoadTexObj callsite test (wipe)","description":"From wipe.c WipeFrameStill: GXLoadTexObj(\u0026tex, GX_TEXMAP0) after GXInitTexObj. Add tests/sdk/gx/gx_load_tex_obj MP4 case with DOL expected + host actual; implement minimal GXLoadTexObjPreLoaded observable RAS writes in src/sdk_port/gx/GX.c, or model callback deterministically for tests.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T14:02:41.957932+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T14:33:43.491153+01:00","closed_at":"2026-02-08T14:33:43.491153+01:00","close_reason":"Tested: GXLoadTexObj MP4 wipe expected vs actual PASS (tests/sdk/gx/gx_load_tex_obj)"}
{"id":"gamecube-afk","title":"MP4 next blockers after GWInit (HuSprInit+)","description":"From MP4 main() after GWInit/pfInit, identify next missing SDK calls (HuSprInit/Hu3DInit/HuDataInit/HuPerfInit) and create per-SDK-function deterministic DOL+host tests (MP4 realistic) + update docs/codex/NOTES.md.","status":"in_progress","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T23:03:21.957366+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-09T12:39:32.998132+01:00"}
{"id":"gamecube-avf","title":"MP4 workload: run GWInit (decomp)","description":"Extend host workload to compile MP4 decomp GWInit and run it after HuSysInit-\u003eHuPrcInit-\u003eHuPadInit (mirror main.c). Stub game-only deps; marker dump. Reachability only.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:36:29.08422+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:44:27.219881+01:00","closed_at":"2026-02-08T18:44:27.219881+01:00","close_reason":"Tested: host workload mp4_gwinit_001 produces marker MP43 DEADBEEF"}
{"id":"gamecube-bsm","title":"MP4 workload: stub chain to VIWaitForRetrace","description":"Add host workload scenario that runs MP4 init chain beyond HuSprInit by stubbing heavy game modules (Hu3DInit/HuDataInit/HuPerfInit/WipeInit/omMasterInit) and reaches real SDK VIWaitForRetrace. Marker proves VI path doesn't crash.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:56:37.822414+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:57:51.650106+01:00","closed_at":"2026-02-08T18:57:51.650106+01:00","close_reason":"Tested: host workload reached VIWaitForRetrace (stubbed post-HuSprInit modules) and wrote marker MP46 to tests/actual/workload/mp4_init_to_viwait_001.bin"}
{"id":"gamecube-bya","title":"MP4 RVZ+host checkpoint probes (HuSprInit/Hu3DInit/HuDataInit/HuPerfInit)","description":"Add deterministic RVZ PC probes for each init-step function entry + matching host checkpoint scenarios/probes; record semantic invariants (BootInfo arenas, sampling rate, PAD spec, etc) in docs/codex/NOTES.md.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-09T09:09:21.94576+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-09T09:14:01.447247+01:00","closed_at":"2026-02-09T09:14:01.447247+01:00","close_reason":"Added MP4 checkpoint RVZ probes (HuSprInit/Hu3DInit/HuDataInit/HuPerfInit), added matching host checkpoint scenarios (Hu3DInit/HuDataInit), documented invariants + concurrency note."}
{"id":"gamecube-cqk","title":"Oracle: MP4 RVZ MEM1 dump at GWInit","description":"Run retail MP4 RVZ in Dolphin, breakpoint at GWInit PC 0x800308B8, dump MEM1 0x80000000 size 0x01800000 to tests/oracles/mp4_rvz/mem1_at_pc_800308B8_gwinit.bin; record sha256 in docs/codex/NOTES.md","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:44:27.215775+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:44:55.575989+01:00","closed_at":"2026-02-08T18:44:55.575989+01:00","close_reason":"Dumped: tests/oracles/mp4_rvz/mem1_at_pc_800308B8_gwinit.bin"}
{"id":"gamecube-d3p","title":"SDK PAD: add unit tests for PADRead/PADReset/PADRecalibrate/PADClamp","description":"If/when MP4 workload starts relying on PADRead path, add deterministic DOL expected vs host actual suites for PADRead, PADReset, PADRecalibrate, PADClamp (MP4 callsite style). Replace deterministic stubs with evidence-backed behavior.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T16:09:47.161712+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:21:31.817803+01:00","closed_at":"2026-02-08T19:21:31.817803+01:00","close_reason":"Tested: added PADRead/PADClamp/PADReset/PADRecalibrate mp4-style deterministic suites (Dolphin expected == host actual)."}
{"id":"gamecube-ddc","title":"MP4 boot: next mainloop stub candidates","description":"Decide next low-risk MP4 mainloop stub to replace with a minimal decomp slice. Candidates: WipeExecAlways (wipe.c, heavy GX+MTX), pfDrawFonts (printfunc.c, heavy GX+MTX), MGSeqMain (minigame_seq.c?), Hu3DExec (3D engine, heavy), HuPrcCall (process.c, requires HuMem + jmp). For each, record required SDK functions not yet modeled and pick the next feasible one.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:26:41.156259+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:35:25.677043+01:00","closed_at":"2026-02-08T20:35:25.677043+01:00","close_reason":"Decision: next low-risk progress is adding missing SDK math (MTXOrtho/MTXIdentity) so we can run more MP4 decomp (e.g. WipeExecAlways). Heavy stubs (HuPrcCall/MGSeqMain/pfDrawFonts/Hu3DExec) remain blocked for now."}
{"id":"gamecube-dmw","title":"MP4 workload: one main loop iteration (stubbed)","description":"Add host workload scenario that runs MP4 init to first loop iteration, stubbing non-SDK game calls, exercising VIGetNextField/VIGetRetraceCount and GX metric reads. Marker proves we can step into main loop.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:58:37.062912+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:59:59.684371+01:00","closed_at":"2026-02-08T18:59:59.684371+01:00","close_reason":"Tested: host workload executed one stubbed MP4 main loop iteration and wrote marker MP47 to tests/actual/workload/mp4_mainloop_one_iter_001.bin"}
{"id":"gamecube-do4","title":"[P1] Port GXPosition2s16 + add deterministic test (MP4 wipe)","description":"Add GXPosition2s16 to src/sdk_port/gx/GX.c with deterministic observable state (store x,y as u16/s16). Add tests/sdk/gx/gx_position_2s16 with DOL+host case based on decomp_mario_party_4/src/game/wipe.c usage. Dump marker+observed x/y bits.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:45:45.880924+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:49:08.275393+01:00","closed_at":"2026-02-08T20:49:08.275393+01:00","close_reason":"Added GXPosition2s16 to sdk_port and new deterministic DOL+host test gx_position_2s16_mp4_wipe_001; expected==actual PASS."}
{"id":"gamecube-eey","title":"Workload: MP4 mainloop uses real HuSysBeforeRender/HuSysDoneRender","description":"Replace local stubs in mp4_mainloop_one_iter_001_scenario with real functions from vendor init.c (already compiled in workload). Verify host scenario still reaches marker and does not crash.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:34:58.219679+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:36:43.545538+01:00","closed_at":"2026-02-08T19:36:43.545538+01:00","close_reason":"Tested: tools/run_host_scenario.sh mp4_mainloop_one_iter_001_scenario reaches marker MP47 and uses real HuSysBeforeRender/HuSysDoneRender; docs updated."}
{"id":"gamecube-esb","title":"mp4 checkpoint: GWInit MEM1 host vs RVZ","description":"Use tools/dump_expected_rvz_mem1_at_pc.sh oracle at PC 0x800308B8 (GWInit) and add host-side MEM1 dump for tests/workload/mp4/mp4_gwinit_001_scenario.c. Compare with tools/diff_bins.sh and record PASS/FAIL + first mismatch in docs/codex/NOTES.md.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T21:31:13.865516+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T21:35:28.287313+01:00","closed_at":"2026-02-08T21:35:28.287313+01:00","close_reason":"Tested: host MEM1 dump at GWInit exists; full-image RVZ vs host diff fails due to missing DOL loader (first mismatch at 0x4134). Recorded decision+notes.","dependencies":[{"issue_id":"gamecube-esb","depends_on_id":"gamecube-5ha","type":"blocks","created_at":"2026-02-08T21:31:18.765286+01:00","created_by":"ai-tdd-labs"}]}
{"id":"gamecube-fqh","title":"MP4 RVZ oracle: MEM1 dump at HuPrcInit","description":"Use Dolphin GDB stub on MP4 USA RVZ, set breakpoint at HuPrcInit PC (symbols.txt), dump MEM1 24MiB to tests/oracles/mp4_rvz/, record SHA256 in docs/codex/NOTES.md. Secondary oracle.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T16:09:47.166361+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T16:15:20.283085+01:00","closed_at":"2026-02-08T16:15:20.283085+01:00","close_reason":"Tested: RVZ breakpoint at HuPrcInit hits; MEM1 dump captured + SHA256 recorded; committed 278d5fc"}
{"id":"gamecube-g8m","title":"MP4 workload: run two mainloop iterations","description":"Add a host workload scenario that runs two iterations of the MP4 main loop body using the same current stubs/slices as mp4_mainloop_one_iter_001. Purpose: catch SDK/VI/GX state bugs that only show up after multiple frames. Verify marker output and document in docs/codex/NOTES.md.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:07:51.014302+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:10:17.08371+01:00","closed_at":"2026-02-08T20:10:17.08371+01:00","close_reason":"Tested: mp4_mainloop_two_iter_001 scenario runs and produces MP49 marker"}
{"id":"gamecube-g9g","title":"MP4 GX: GXSetTexCopySrc callsite test","description":"From decomp_mario_party_4/src/game/hsfman.c (Hu3DShadowExec) collect call args for GXSetTexCopySrc, build DOL test (mp4), dump expected via Dolphin, run host scenario against src/sdk_port, diff bit-exact, record evidence in docs/codex/NOTES.md, update docs/sdk/mp4/MP4_chain_all.csv.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:06:17.792839+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T13:10:23.001412+01:00","closed_at":"2026-02-08T13:10:23.001412+01:00","close_reason":"Tested: DOL expected + host actual bit-exact (GXSetTexCopySrc MP4 Hu3DShadowExec small branch). Evidence in tests/sdk/gx/gx_set_tex_copy_src and docs updates."}
{"id":"gamecube-ihi","title":"mp4 workload: two-iter retrace tick (PadReadVSync each frame)","description":"Add a 2-iteration mainloop workload variant that simulates a VI retrace tick on each iteration (VIWaitForRetrace) so PadReadVSync runs each frame. Dump HuPadErr[0] and GC_SDK_OFF_PAD_READ_CALLS to prove callback + PADRead ran twice deterministically. Record fact in docs/codex/NOTES.md and commit.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T21:17:36.733799+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T21:19:09.795614+01:00","closed_at":"2026-02-08T21:19:09.795614+01:00","close_reason":"Added mp4_mainloop_two_iter_tick_001_scenario: calls VIWaitForRetrace per iteration to drive PadReadVSync each frame, dumps HuPadErr[0] + PAD_READ_CALLS. Verified host workload runs; output shows HuPadErr[0]=0xFE and PAD_READ_CALLS=8. Added note to docs/codex/NOTES.md."}
{"id":"gamecube-ivt","title":"MP4 workload: host build skeleton (compile decomp entry -\u003e HuSysInit)","description":"Create a minimal host executable that links selected MP4 decomp objects + src/sdk_port. Goal: run through entry/main until it reaches HuSysInit return (or first assert) while capturing which SDK calls are reached. No correctness claims yet; just reachability + logging. Add docs/codex/DECISIONS.md entry for integration harness decisions.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:26:53.743005+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T15:50:00.766117+01:00","closed_at":"2026-02-08T15:50:00.766117+01:00","close_reason":"Implemented host MP4 HuSysInit workload scenario; builds via tools/run_host_scenario.sh workload mode and reaches HuSysInit return (marker dumped). Decision + notes recorded.","dependencies":[{"issue_id":"gamecube-ivt","depends_on_id":"gamecube-stx","type":"blocks","created_at":"2026-02-08T13:27:02.984754+01:00","created_by":"ai-tdd-labs"}]}
{"id":"gamecube-j54","title":"Oracle: MP4 RVZ MEM1 dump at HuPerfInit","description":"Dump MEM1 at PC=0x8002E74C (HuPerfInit) and record sha256 in docs/codex/NOTES.md.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:01:28.584292+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:04:07.092821+01:00","closed_at":"2026-02-08T19:04:07.092821+01:00","close_reason":"Captured RVZ MEM1 oracle at PC=0x8002E74C; sha256=8cc09cd47ba1eed19c925d747fae9e090a3475d16ec3c4e1639f80f979ea8c21"}
{"id":"gamecube-lad","title":"MP4: replace msmMusFdoutEnd stub with decomp (empty) slice","description":"In MP4 mainloop workloads, msmMusFdoutEnd() is currently a host-only stub. In decomp_mario_party_4/src/msm/msmmus.c it is an empty function, so replace the stub with a minimal slice file and wire it into tools/run_host_scenario.sh. Verify mp4_mainloop_one_iter_001 and mp4_mainloop_two_iter_001 still run.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:25:10.38298+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:26:24.553551+01:00","closed_at":"2026-02-08T20:26:24.553551+01:00","close_reason":"Tested: mainloop workloads still run; msmMusFdoutEnd provided by empty slice"}
{"id":"gamecube-loq","title":"[P2] MP4 mainloop: replace WipeExecAlways stub with decomp slice (after MTX tests)","description":"After MTXOrtho/Identity are implemented+tested, add a workload slice for decomp_mario_party_4/src/game/wipe.c:WipeExecAlways (and minimal required helpers) so mp4_mainloop_* workloads can call real WipeExecAlways. Keep pfDrawFonts stubbed for now. Verify workload still runs deterministically and record any new required SDK calls.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:35:14.111377+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:58:23.914918+01:00","closed_at":"2026-02-08T20:58:23.914918+01:00","close_reason":"Replaced inline WipeExecAlways stub in mp4_mainloop_* scenarios with a minimal decomp-backed slice (wipeexecalways_decomp_blank.c). Moved WipeInit stub out of post_sprinit_stubs into wipeinit_stub for init-only workload; mainloop scenarios now call WipeInit(\u0026GXNtsc480IntDf). Verified mp4_init_to_viwait_001, mp4_mainloop_one_iter_001, mp4_mainloop_two_iter_001 host workloads still run.","dependencies":[{"issue_id":"gamecube-loq","depends_on_id":"gamecube-vl0","type":"blocks","created_at":"2026-02-08T20:35:25.297773+01:00","created_by":"ai-tdd-labs"},{"issue_id":"gamecube-loq","depends_on_id":"gamecube-mw4","type":"blocks","created_at":"2026-02-08T20:35:25.489646+01:00","created_by":"ai-tdd-labs"},{"issue_id":"gamecube-loq","depends_on_id":"gamecube-vj8","type":"blocks","created_at":"2026-02-08T20:51:20.621756+01:00","created_by":"ai-tdd-labs"}]}
{"id":"gamecube-los","title":"dvd: add canonical DVDGetDriveStatus test (MP4 HuDvdErrorWatch)","description":"Create deterministic DOL+host suite for DVDGetDriveStatus based on decomp semantics (idle=0 when no executing, fatal=-1, pausing=8). Align sdk_port DVDInit to initialize drive status as idle=0 (not placeholder). Update MP4 chain csv + notes.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-09T09:41:34.283903+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-09T12:43:18.660383+01:00","closed_at":"2026-02-09T12:43:18.660383+01:00","close_reason":"Tested: DVDInit now sets drive status idle=0; dvd_get_drive_status_realistic_hudvderrorwatch_001 expected==actual."}
{"id":"gamecube-mdu","title":"Oracle: MP4 RVZ MEM1 dump at HuSprInit","description":"Using symbols.txt address for HuSprInit, run tools/dump_expected_rvz_mem1_at_pc.sh and record sha256 in docs/codex/NOTES.md.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T18:52:42.908325+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T18:54:42.91103+01:00","closed_at":"2026-02-08T18:54:42.91103+01:00","close_reason":"Captured RVZ MEM1 oracle at PC=0x8000D348; sha256=c2c0d9b5ba41152b1e9e6d0e94b19037880d478cdeb380267e611fb30b994f73"}
{"id":"gamecube-mhj","title":"mp4 workload: un-stub pfDrawFonts (minimal slice + marker)","description":"Replace the mp4_mainloop_* scenario static pfDrawFonts stub with a linked slice file so we can later swap in real decomp easily. For now implement a minimal host-safe slice that increments a RAM-backed counter (sdk_state or a dedicated workload state) to prove it was called. Verify workloads still run.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T21:23:39.170003+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T21:28:28.433086+01:00","closed_at":"2026-02-08T21:28:28.433086+01:00","close_reason":"Tested: mp4_mainloop_* workloads link pfDrawFonts slice; markers written to 0x80300020/0x80300024"}
{"id":"gamecube-mw4","title":"[P1] Add MTXIdentity deterministic test","description":"Add tests/sdk/mtx/mtx_identity DOL+host; verify identity matrix bytes. Implement in src/sdk_port/mtx if needed.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:35:13.922946+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:43:16.411018+01:00","closed_at":"2026-02-08T20:43:16.411018+01:00","close_reason":"Implemented C_MTXIdentity in src/sdk_port/mtx and added deterministic DOL+host test; expected==actual PASS."}
{"id":"gamecube-nmo","title":"MP4 GX: GXLoadPosMtxImm callsite test (wipe)","description":"From decomp_mario_party_4/src/game/wipe.c WipeFrameStill/WipeColorFill: GXLoadPosMtxImm(modelview, GX_PNMTX0) and later GXLoadPosMtxImm(temp, GX_PNMTX0). Make deterministic DOL+host testcase(s) that validate observable state (e.g., last XF reg writes / matrix memory mirror) as modeled in sdk_port. Update docs/codex/NOTES.md and MP4_chain_all.csv.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:36:50.400829+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T13:46:09.296495+01:00","closed_at":"2026-02-08T13:46:09.296495+01:00","close_reason":"Tested: gx_load_pos_mtx_imm_mp4_wipe_identity_001 expected.bin matches actual.bin"}
{"id":"gamecube-nsz","title":"Workload: replace HuDataInit stub with minimal HuDataInit slice","description":"Add a minimal host-buildable HuDataInit slice that seeds the sdk_port DVD path map with a small MP4 datadir path list (test backend) and validates lookups via DVDConvertPathToEntrynum without panicking. Remove HuDataInit from post_sprinit_stubs.c. Verify mp4_init_to_viwait_001 + mp4_mainloop_one_iter_001 still reach markers.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:43:37.576775+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:44:58.639669+01:00","closed_at":"2026-02-08T19:44:58.639669+01:00","close_reason":"Tested: mp4_init_to_viwait_001 + mp4_mainloop_one_iter_001 still reach markers with HuDataInit provided by minimal slice; HuDataInit stub removed from post_sprinit_stubs.c; docs updated."}
{"id":"gamecube-otq","title":"MP4 GX: GXSetTevColor callsite test (wipe)","description":"From wipe.c WipeFrameStill: GXSetTevColor(GX_TEVSTAGE1, color). Add tests/sdk/gx/gx_set_tev_color MP4 case with DOL expected + host actual; implement in src/sdk_port/gx/GX.c (RA/BG regs 224+id*2 + 225+id*2 writes) evidence-driven.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T14:02:42.006511+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T14:13:17.961763+01:00","closed_at":"2026-02-08T14:13:17.961763+01:00","close_reason":"Tested: gx_set_tev_color_mp4_wipe_c0_001 expected.bin matches actual.bin"}
{"id":"gamecube-p7q","title":"MP4 workload: run HuPrcInit (decomp)","description":"Extend host workload to compile MP4 decomp process code and run HuPrcInit after HuSysInit (mirror main.c order). Stub game-only deps; marker dump. Reachability only.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T16:09:47.19099+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T16:14:08.310062+01:00","closed_at":"2026-02-08T16:14:08.310062+01:00","close_reason":"Tested: host workload HuSysInit-\u003eHuPrcInit scenario runs and writes marker; committed d4c4fc9"}
{"id":"gamecube-phc","title":"Oracle: RVZ MEM1 dump at Hu3DPreProc","description":"Use tools/dump_expected_rvz_mem1_at_pc.sh on MP4 RVZ to dump MEM1 at Hu3DPreProc PC=0x8001FBCC. Record sha256+path in docs/codex/NOTES.md. Secondary oracle only.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T19:50:46.640201+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T19:56:26.402888+01:00","closed_at":"2026-02-08T19:56:26.402888+01:00","close_reason":"Tested: RVZ MEM1 dump captured; SHA256 recorded in docs/codex/NOTES.md","comments":[{"id":2,"issue_id":"gamecube-phc","author":"ai-tdd-labs","text":"Dumped MEM1 oracle file tests/oracles/mp4_rvz/mem1_at_pc_8001FBCC_hu3dpreproc.bin successfully.","created_at":"2026-02-08T18:54:39Z"}]}
{"id":"gamecube-pyy","title":"MP4 gap: GXInitTexObjLOD (pfDrawFonts) test+port","description":"Add MP4-realistic deterministic test for GXInitTexObjLOD using pfDrawFonts callsite (DOL expected vs host actual). Implement GXInitTexObjLOD in src/sdk_port/gx/GX.c matching decomp GXTexture.c observable packing.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-09T11:10:35.862508+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-09T11:16:55.696711+01:00","closed_at":"2026-02-09T11:16:55.696711+01:00","close_reason":"Tested: Dolphin expected vs host actual PASS (GXInitTexObjLOD mp4_pfdrawfonts_001)"}
{"id":"gamecube-qjw","title":"mp4 workload: tick retrace to drive PadReadVSync","description":"Add a host workload scenario variant that simulates a VI retrace tick before the mainloop body so VIWaitForRetrace invokes the PostRetraceCallback installed by HuPadInit (PadReadVSync). Dump HuPadErr[0]/HuPadBtn[0] markers to prove pad callback ran deterministically.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T21:11:22.315801+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T21:12:47.319302+01:00","closed_at":"2026-02-08T21:12:47.319302+01:00","close_reason":"Added mp4_mainloop_one_iter_tick_001_scenario: calls VIWaitForRetrace to drive PadReadVSync via PostRetraceCallback, then dumps HuPadErr[0]/HuPadBtn[0] markers. Verified host workload runs and output shows HuPadErr[0]=0xFE (PAD_ERR_NOT_READY). Added note to docs/codex/NOTES.md."}
{"id":"gamecube-qvx","title":"mp4 rvz probe: dump sdk globals at breakpoint","description":"At a stable MP4 RVZ breakpoint (start with OSDisableInterrupts 0x800B723C or GWInit 0x800308B8), dump small RAM regions for key SDK globals/state (OS arena lo/hi, VI retrace/post-cb, SI sampling rate, PAD state) using Dolphin GDB stub. Store dumps under tests/oracles/mp4_rvz/probes/. Record addresses and hashes in docs/codex/NOTES.md and define the probe in docs/codex/WORKFLOW.md.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T22:23:22.065442+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T22:27:13.221083+01:00","closed_at":"2026-02-08T22:27:13.221083+01:00","close_reason":"Added RVZ probe tool + ran GWInit probe; recorded hashes+parsed values in NOTES; created follow-up task for arena mismatch"}
{"id":"gamecube-r5b","title":"MP4 RVZ probes + host semantic probe helper","description":"Add/validate RVZ probe dumps at HuPadInit/GWInit, add host probe helper to parse BootInfo+sdk_state, update docs/codex/NOTES.md + WORKFLOW.md with evidence and interpretation.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T23:01:24.551865+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T23:01:32.927947+01:00","closed_at":"2026-02-08T23:01:32.927947+01:00","close_reason":"Tested: OSInit DOL+host PASS; RVZ probes dumped at PC=0x80005A5C and 0x800308B8; host semantic probe emits values.txt; docs updated."}
{"id":"gamecube-stx","title":"MP4: extend chain CSV with next 50 SDK calls","description":"Scan decomp_mario_party_4 init flow beyond current MP4_chain_all.csv coverage; append next SDK calls (origin=sdk) with callsite refs and placeholder suite paths; do not mark covered until tests exist.","notes":"Appended WipeCrossFade/WipeFrameStill SDK calls (new missing GXGetTexBufferSize, GXLoadPosMtxImm, GXBegin, GXEnd, GXSetTexCoordGen, GXSetTevColor, GXInitTexObj, GXLoadTexObj) based on decomp_mario_party_4/src/game/wipe.c.\nAdded WipeCrossFade GXGetTexBufferSize row (now covered via tests/sdk/gx/gx_get_tex_buffer_size). Next missing wipe SDK calls remain: GXLoadPosMtxImm, GXBegin, GXEnd, GXSetTexCoordGen, GXSetTevColor, GXInitTexObj, GXLoadTexObj.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:26:53.582109+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T14:36:16.268372+01:00","closed_at":"2026-02-08T14:36:16.268372+01:00","close_reason":"Chain CSV already extended (HuSysInit/MainLoop/HuPadInit/Hu3D*/Wipe* sections present; no missing origin rows)."}
{"id":"gamecube-uku","title":"MP4 GX: GXBegin/GXEnd callsite test (wipe)","description":"From wipe.c WipeColorFill: GXBegin(GX_QUADS, GX_VTXFMT0, 4) ... GXEnd(). Implement minimal immediate-mode tracking in sdk_port and validate with DOL+host.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:36:50.557766+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T14:00:09.055097+01:00","closed_at":"2026-02-08T14:00:09.055097+01:00","close_reason":"Tested: gx_begin_mp4_wipe_quads_001 expected.bin matches actual.bin"}
{"id":"gamecube-vj8","title":"[P2] Workload headers: add MTX prototypes + minimal GX APIs for WipeExecAlways","description":"Extend tests/workload/include to add dolphin/mtx.h (Mtx/Mtx44 + MTXOrtho/MTXIdentity prototypes) and add missing GX prototypes/constants used by wipe.c (projection, matrices, tev/chan, vtxdesc/attrfmt, GXPosition2s16). Keep minimal surface. Then update WipeExecAlways workload slice wiring.","status":"closed","priority":2,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:45:46.046973+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:55:50.144071+01:00","closed_at":"2026-02-08T20:55:50.144071+01:00","close_reason":"Added workload MTX header + expanded GX header surface; moved WipeExecAlways stub out of scenarios into slices/wipeexecalways_stub.c and wired it in runner; verified mp4_mainloop_one_iter_001 and mp4_mainloop_two_iter_001 host workloads still run."}
{"id":"gamecube-vl0","title":"[P1] Add MTXOrtho deterministic test (MP4 wipe)","description":"Add tests/sdk/mtx/mtx_ortho with DOL+host: call MTXOrtho with MP4 wipe/printfunc-style params, dump resulting 4x4 matrix to RAM, expected.bin from Dolphin vs actual.bin from host sdk_port. Add minimal src/sdk_port/mtx/ implementation if missing. Update docs/codex/NOTES.md with confirmed formula and invariants (facts only).","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T20:35:13.732667+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T20:43:16.560688+01:00","closed_at":"2026-02-08T20:43:16.560688+01:00","close_reason":"Implemented C_MTXOrtho in src/sdk_port/mtx44 and added deterministic DOL+host test; expected==actual PASS."}
{"id":"gamecube-wol","title":"os arena init: match RVZ at GWInit","description":"Use RVZ probe at PC 0x800308B8 (GWInit) showing __OSArenaLo==__OSArenaHi==0x817FDEA0. Our host sdk_state shows arena_lo/hi==0x81700000 after mp4_gwinit_001 workload. Investigate OSInit/arena logic and adjust sdk_port to match, with deterministic tests + re-probe.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T22:27:06.685377+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T22:40:28.921152+01:00","closed_at":"2026-02-08T22:40:28.921152+01:00","close_reason":"Tested: mp4_gwinit_001 host arena_lo/hi now 0x817FDEA0 matching RVZ probe at GWInit; updated OSInit + shrunk sdk_state page to avoid overlap"}
{"id":"gamecube-wsx","title":"MP4 workload: run HuPadInit (decomp) after HuSysInit","description":"Extend host workload to compile MP4 decomp pad.c and call HuPadInit() after HuSysInit(). Stub game-only deps; stop after HuPadInit returns and dump marker. Purpose: integration reachability; correctness still via unit tests.","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T15:57:40.689833+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T16:08:49.75602+01:00","closed_at":"2026-02-08T16:08:49.75602+01:00","close_reason":"Tested: host workload HuSysInit-\u003eHuPadInit scenario runs and writes marker; committed 88b0b08"}
{"id":"gamecube-wx8","title":"MP4 GX: GXGetTexBufferSize callsite test (wipe)","description":"From decomp_mario_party_4/src/game/wipe.c WipeCrossFade: GXGetTexBufferSize(w, h, GX_TF_RGB565, GX_FALSE, 0). Build DOL expected + host actual; implement in src/sdk_port/gx/GX.c evidence-driven; update docs/codex/NOTES.md and MP4_chain_all.csv counts (mp4 cases).","status":"closed","priority":1,"issue_type":"task","owner":"aitddlabs@gmail.com","created_at":"2026-02-08T13:30:36.220353+01:00","created_by":"ai-tdd-labs","updated_at":"2026-02-08T13:36:07.676276+01:00","closed_at":"2026-02-08T13:36:07.676276+01:00","close_reason":"Tested: gx_get_tex_buffer_size_mp4_wipe_cross_fade_001 expected.bin matches actual.bin (0x96000)"}
